% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ltx_wrap_table_math.R
\name{ltx_wrap_table_math}
\alias{ltx_wrap_table_math}
\title{Wrap Numbers in LaTeX Table in Math Mode within Tabular Environments}
\usage{
ltx_wrap_table_math(latex_table, ruler_based = TRUE, print_tbl = FALSE)
}
\arguments{
\item{latex_table}{A character vector or list containing the LaTeX table
input.}

\item{ruler_based}{A logical value indicating whether the relevant area of
the table to wrap in math mode is between midrule and bottomrule. Defaults
to \code{TRUE}. If \code{FALSE} the area of the table wrapped in math mode is between
the start and end of the tabular environment.}

\item{print_tbl}{A logical value indicating whether to print the table to
the console after modification. Defaults to \code{FALSE}.}
}
\value{
A modified LaTeX table where all numbers within \code{tabular} environments
are wrapped in math mode. The result is returned invisibly.
}
\description{
This function takes a LaTeX table as input and wraps all numbers, both
positive and negative, in LaTeX math mode (\verb{$number$}) only if they are located
within a \code{tabular} or \code{tabularx} environment. Numbers that are already
wrapped in math mode are ignored.
}
\details{
The function handles both integers and decimal numbers, optionally
including commas as thousand separators and supports scientific notation.
It also ensures that numbers followed by superscripts (e.g., \code{10^{2}})
are fully wrapped in math mode.

The function identifies numbers inside \code{tabular} or \code{tabularx} environments
and wraps them in dollar signs for LaTeX math mode. It uses a regular expression
to find numbers and ignores those that are already wrapped in math mode.

Explanation of Regular Expression:

\verb{(?<!\\\\$)-?\\\\b(\\\\d\{1,3\}(,\\\\d\{3\})*(\\\\.\\\\d+)?(e-?\\\\d+)?)(\\\\^\\\\\{[^\\\\\}]+\\\\\}\\\\S*)?(\\\\S*\\\\b)?(?![^$]*\\\\$)}
\enumerate{
\item \verb{(?<!\\\\$)}
\itemize{
\item A negative lookbehind that ensures there is no dollar sign (\code{$}) before the current position.
\item Prevents matching numbers already enclosed in LaTeX math mode (\verb{$...$}).
}
\item \verb{-?}
\itemize{
\item Optional negative sign.
}
\item \verb{\\\\b}
\itemize{
\item A word boundary, ensuring that the number is not part of a larger word.
\item Matches standalone numbers.
}
\item \verb{(-?\\\\d\{1,3\}(,\\\\d\{3\})*(\\\\.\\\\d+)?(e-?\\\\d+)?)}
\itemize{
\item Matches numbers in the format:
\itemize{
\item \verb{\\\\d\{1,3\}} : First group of digits.
\item \verb{(,\\\\d\{3\})*} : Thousands groups separated by commas.
\item \verb{(\\\\.\\\\d+)?} : Optional decimal numbers.
\item \verb{(e-?\\\\d+)?} : Optional scientific notation.
}
}
\item \verb{(\\\\^\\\\\{[^\\\\\}]+\\\\\}\\\\S*)?}
\itemize{
\item Matches LaTeX superscript notation (e.g., \code{10^{2}}).
}
\item \verb{(\\\\S*\\\\b)?}
\itemize{
\item Optionally matches any trailing characters after the number.
}
\item \verb{(?![^$]*\\\\$)}
\itemize{
\item A negative lookahead to ensure there's no dollar sign ahead in the string
(prevents matching numbers already enclosed in LaTeX math mode).
}
}
}
